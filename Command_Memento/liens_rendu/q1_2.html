<pre style='text-align: left; border: 1px dashed #008DEF; line-height: 18px; padding: 15px; font-size: 13px; font-family:'Courier New', Courier, monospace; overflow: auto;'><span style='font-weight:bold;color:#7B0052;'>package</span> question1;

  <span style='font-weight:bold;color:#7B0052;'>import</span> java.util.Iterator;
  <span style='font-weight:bold;color:#7B0052;'>import</span> java.util.NoSuchElementException;
  
  <span style='font-weight:bold;color:#7B0052;'>import</span> java.util.List;
  <span style='font-weight:bold;color:#7B0052;'>import</span> java.util.ArrayList;
  <span style='font-weight:bold;color:#7B0052;'>import</span> java.util.Stack;
  
  <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> GroupeDeContributeurs <span style='font-weight:bold;color:#7B0052;'>extends</span> Cotisant <span style='font-weight:bold;color:#7B0052;'>implements</span> Iterable&lt;Cotisant&gt;<span style='font-weight:bold;color:#D3171B'>{</span>
    <span style='font-weight:bold;color:#7B0052;'>private</span> List&lt;Cotisant&gt; liste;
    
    <span style='font-weight:bold;color:#7B0052;'>public</span> GroupeDeContributeurs(String nomDuGroupe)<span style='font-weight:bold;color:#D3171B'>{</span>
      <span style='font-weight:bold;color:#7B0052;'>super</span>(nomDuGroupe);
      this.liste = <span style='font-weight:bold;color:#7B0052;'>new</span> ArrayList&lt;Cotisant&gt;();
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> ajouter(Cotisant cotisant)<span style='font-weight:bold;color:#D3171B'>{</span>
       this.liste.add(cotisant);                             
       cotisant.setParent(<span style='font-weight:bold;color:#7B0052;'>this</span>); 
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
    
    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>int</span> nombreDeCotisants()<span style='font-weight:bold;color:#D3171B'>{</span>
       <span style='font-weight:bold;color:#7B0052;'>int</span> nombre = 0;                             
       Iterator&lt;Cotisant&gt; ite = liste.iterator();
          <span style='font-weight:bold;color:#7B0052;'>while</span>(ite.hasNext())<span style='font-weight:bold;color:#D3171B'>{</span>                             
            Cotisant cot = ite.next(); 
            nombre = nombre + cot.nombreDeCotisants(); 
          <span style='font-weight:bold;color:#D3171B'>}</span> 
          <span style='font-weight:bold;color:#7B0052;'>return</span> nombre; 
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
    <span style='font-weight:bold;color:#7B0052;'>public</span> String toString()<span style='font-weight:bold;color:#D3171B'>{</span>
      String str = <span style='font-weight:bold;color:#7B0052;'>new</span> String(); 
      <span style='font-weight:bold;color:#7B0052;'>for</span>(Cotisant cot : this.liste)<span style='font-weight:bold;color:#D3171B'>{</span>                             
          str +=  cot.toString()+<span style='color:#2A00FF'>" \n "</span> ;
      <span style='font-weight:bold;color:#D3171B'>}</span> 
      <span style='font-weight:bold;color:#7B0052;'>return</span> str; 
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
    <span style='font-weight:bold;color:#7B0052;'>public</span> List&lt;Cotisant&gt; getChildren()<span style='font-weight:bold;color:#D3171B'>{</span>
      <span style='font-weight:bold;color:#7B0052;'>return</span> this.liste;<span style='color:#3F7F5F'>// a completer
  </span>  <span style='font-weight:bold;color:#D3171B'>}</span>
    
    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> debit(<span style='font-weight:bold;color:#7B0052;'>int</span> somme) <span style='font-weight:bold;color:#7B0052;'>throws</span> SoldeDebiteurException<span style='font-weight:bold;color:#D3171B'>{</span>
      <span style='font-weight:bold;color:#7B0052;'>if</span>(somme &lt;  0)<span style='font-weight:bold;color:#D3171B'>{</span> 
          <span style='font-weight:bold;color:#7B0052;'>throw</span> <span style='font-weight:bold;color:#7B0052;'>new</span> RuntimeException(<span style='color:#2A00FF'>"la somme ne peut pas etre negatif"</span>); 
       <span style='font-weight:bold;color:#D3171B'>}</span> <span style='font-weight:bold;color:#7B0052;'>else</span> <span style='font-weight:bold;color:#D3171B'>{</span>
              <span style='font-weight:bold;color:#7B0052;'>for</span>(Cotisant cot : this.liste)<span style='font-weight:bold;color:#D3171B'>{</span>
              <span style='font-weight:bold;color:#7B0052;'>try</span><span style='font-weight:bold;color:#D3171B'>{</span>                             
                  cot.debit(somme); 
                  <span style='font-weight:bold;color:#D3171B'>}</span> <span style='font-weight:bold;color:#7B0052;'>catch</span>( SoldeDebiteurException e)<span style='font-weight:bold;color:#D3171B'>{</span> 
                      <span style='font-weight:bold;color:#7B0052;'>throw</span> <span style='font-weight:bold;color:#7B0052;'>new</span> SoldeDebiteurException(); 
                  <span style='font-weight:bold;color:#D3171B'>}</span> 
              <span style='font-weight:bold;color:#D3171B'>}</span> 
          <span style='font-weight:bold;color:#D3171B'>}</span> 
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> credit(<span style='font-weight:bold;color:#7B0052;'>int</span> somme)<span style='font-weight:bold;color:#D3171B'>{</span>
       <span style='font-weight:bold;color:#7B0052;'>if</span>(somme &lt;  0)<span style='font-weight:bold;color:#D3171B'>{</span> 
              <span style='font-weight:bold;color:#7B0052;'>throw</span> <span style='font-weight:bold;color:#7B0052;'>new</span> RuntimeException(<span style='color:#2A00FF'>"la somme ne peut pas etre negatif"</span>); 
          <span style='font-weight:bold;color:#D3171B'>}</span> <span style='font-weight:bold;color:#7B0052;'>else</span><span style='font-weight:bold;color:#D3171B'>{</span> 
              <span style='font-weight:bold;color:#7B0052;'>for</span>(Cotisant cot: this.liste)<span style='font-weight:bold;color:#D3171B'>{</span>                             
                  cot.credit(somme); 
              <span style='font-weight:bold;color:#D3171B'>}</span> 
          <span style='font-weight:bold;color:#D3171B'>}</span> 
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
    <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>int</span> solde()<span style='font-weight:bold;color:#D3171B'>{</span>
      <span style='font-weight:bold;color:#7B0052;'>int</span> solde = 0; 
      <span style='font-weight:bold;color:#7B0052;'>for</span>(Cotisant cot : this.liste)<span style='font-weight:bold;color:#D3171B'>{</span>                            
         solde = solde + cot.solde();
      <span style='font-weight:bold;color:#D3171B'>}</span> 
         <span style='font-weight:bold;color:#7B0052;'>return</span> solde; 
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
    <span style='color:#3F7F5F'>// m√©thodes fournies
  </span>  
   <span style='font-weight:bold;color:#7B0052;'>public</span> Iterator&lt;Cotisant&gt; iterator()<span style='font-weight:bold;color:#D3171B'>{</span>
      <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>new</span> GroupeIterator(liste.iterator());
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
    <span style='font-weight:bold;color:#7B0052;'>private</span> <span style='font-weight:bold;color:#7B0052;'>class</span> GroupeIterator <span style='font-weight:bold;color:#7B0052;'>implements</span> Iterator&lt;Cotisant&gt;<span style='font-weight:bold;color:#D3171B'>{</span>
      <span style='font-weight:bold;color:#7B0052;'>private</span> Stack&lt;Iterator&lt;Cotisant&gt;&gt; stk;
      
      <span style='font-weight:bold;color:#7B0052;'>public</span> GroupeIterator(Iterator&lt;Cotisant&gt; iterator)<span style='font-weight:bold;color:#D3171B'>{</span>
        this.stk = <span style='font-weight:bold;color:#7B0052;'>new</span> Stack&lt;Iterator&lt;Cotisant&gt;&gt;();
        this.stk.push(iterator);
      <span style='font-weight:bold;color:#D3171B'>}</span>
      
      <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>boolean</span> hasNext()<span style='font-weight:bold;color:#D3171B'>{</span>
        <span style='font-weight:bold;color:#7B0052;'>if</span>(stk.empty())<span style='font-weight:bold;color:#D3171B'>{</span>
          <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>false</span>;
        <span style='font-weight:bold;color:#D3171B'>}</span><span style='font-weight:bold;color:#7B0052;'>else</span><span style='font-weight:bold;color:#D3171B'>{</span>
           Iterator&lt;Cotisant&gt; iterator = stk.peek();
           <span style='font-weight:bold;color:#7B0052;'>if</span>( !iterator.hasNext())<span style='font-weight:bold;color:#D3171B'>{</span>
             stk.pop();
             <span style='font-weight:bold;color:#7B0052;'>return</span> hasNext();
           <span style='font-weight:bold;color:#D3171B'>}</span><span style='font-weight:bold;color:#7B0052;'>else</span><span style='font-weight:bold;color:#D3171B'>{</span>
             <span style='font-weight:bold;color:#7B0052;'>return</span> <span style='font-weight:bold;color:#7B0052;'>true</span>;
           <span style='font-weight:bold;color:#D3171B'>}</span>
        <span style='font-weight:bold;color:#D3171B'>}</span>
      <span style='font-weight:bold;color:#D3171B'>}</span>
      
      <span style='font-weight:bold;color:#7B0052;'>public</span> Cotisant next()<span style='font-weight:bold;color:#D3171B'>{</span>
        <span style='font-weight:bold;color:#7B0052;'>if</span>(hasNext())<span style='font-weight:bold;color:#D3171B'>{</span>
          Iterator&lt;Cotisant&gt; iterator = stk.peek();
          Cotisant cpt = iterator.next();
          <span style='font-weight:bold;color:#7B0052;'>if</span>(cpt <span style='font-weight:bold;color:#7B0052;'>instanceof</span> GroupeDeContributeurs)<span style='font-weight:bold;color:#D3171B'>{</span>
            GroupeDeContributeurs gr = (GroupeDeContributeurs)cpt;
            stk.push(gr.liste.iterator());
          <span style='font-weight:bold;color:#D3171B'>}</span>
          <span style='font-weight:bold;color:#7B0052;'>return</span> cpt;
        <span style='font-weight:bold;color:#D3171B'>}</span><span style='font-weight:bold;color:#7B0052;'>else</span><span style='font-weight:bold;color:#D3171B'>{</span>
          <span style='font-weight:bold;color:#7B0052;'>throw</span> <span style='font-weight:bold;color:#7B0052;'>new</span> NoSuchElementException();
        <span style='font-weight:bold;color:#D3171B'>}</span>
      <span style='font-weight:bold;color:#D3171B'>}</span>
      <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> remove()<span style='font-weight:bold;color:#D3171B'>{</span>
        <span style='font-weight:bold;color:#7B0052;'>throw</span> <span style='font-weight:bold;color:#7B0052;'>new</span> UnsupportedOperationException();
      <span style='font-weight:bold;color:#D3171B'>}</span>
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
  
    <span style='font-weight:bold;color:#7B0052;'>public</span> &lt;T&gt; T accepter(Visiteur&lt;T&gt; visiteur)<span style='font-weight:bold;color:#D3171B'>{</span>
      <span style='font-weight:bold;color:#7B0052;'>return</span> visiteur.visite(<span style='font-weight:bold;color:#7B0052;'>this</span>);
    <span style='font-weight:bold;color:#D3171B'>}</span>
    
  
  <span style='font-weight:bold;color:#D3171B'>}</span></pre>