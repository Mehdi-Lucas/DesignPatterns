<pre style='text-align: left; border: 1px dashed #008DEF; line-height: 18px; padding: 15px; font-size: 13px; font-family:'Courier New', Courier, monospace; overflow: auto;'><span style='font-weight:bold;color:#7B0052;'>package</span> question4;

  <span style='font-weight:bold;color:#7B0052;'>import</span> question1.Contributeur;
  <span style='font-weight:bold;color:#7B0052;'>import</span> question1.GroupeDeContributeurs;
  <span style='font-weight:bold;color:#7B0052;'>import</span> question2.*;
  <span style='font-weight:bold;color:#7B0052;'>import</span> question3.*;
  <span style='font-weight:bold;color:#7B0052;'>import</span> <span style='font-weight:bold;color:#7B0052;'>static</span> question2.Main.*;
  
  <span style='font-weight:bold;color:#7B0052;'>import</span> java.awt.*;
  <span style='font-weight:bold;color:#7B0052;'>import</span> java.awt.event.*;
  <span style='font-weight:bold;color:#7B0052;'>import</span> javax.swing.*;
  <span style='font-weight:bold;color:#7B0052;'>import</span> org.jdom.*;
  <span style='font-weight:bold;color:#7B0052;'>import</span> org.jdom.output.*;
  <span style='font-weight:bold;color:#7B0052;'>import</span> java.io.ByteArrayOutputStream;
  
  <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>class</span> IHM <span style='font-weight:bold;color:#7B0052;'>extends</span> JFrame <span style='font-weight:bold;color:#D3171B'>{</span>
  
      <span style='font-weight:bold;color:#7B0052;'>private</span> JTextArea resultat = <span style='font-weight:bold;color:#7B0052;'>new</span> JTextArea(<span style='color:#2A00FF'>""</span>, 7,60);
      <span style='font-weight:bold;color:#7B0052;'>private</span> JButton debiter = <span style='font-weight:bold;color:#7B0052;'>new</span> JButton(<span style='color:#2A00FF'>"débiter"</span>);
      <span style='font-weight:bold;color:#7B0052;'>private</span> JButton crediter = <span style='font-weight:bold;color:#7B0052;'>new</span> JButton(<span style='color:#2A00FF'>"créditer"</span>);
      <span style='font-weight:bold;color:#7B0052;'>private</span> JTextField somme = <span style='font-weight:bold;color:#7B0052;'>new</span> JTextField(4);
  
      <span style='font-weight:bold;color:#7B0052;'>private</span> GroupeDeContributeurs g;
  
      <span style='font-weight:bold;color:#7B0052;'>public</span> IHM() <span style='font-weight:bold;color:#D3171B'>{</span>
          this.setTitle(<span style='color:#2A00FF'>"Cotisant"</span>);
          Container container = this.getContentPane();
          somme.setText(<span style='color:#2A00FF'>"40"</span>);
          container.setLayout(<span style='font-weight:bold;color:#7B0052;'>new</span> BorderLayout());
  
          container.add(resultat, BorderLayout.NORTH);
          JPanel p = <span style='font-weight:bold;color:#7B0052;'>new</span> JPanel(<span style='font-weight:bold;color:#7B0052;'>new</span> FlowLayout());
          p.add(somme);
          p.add(debiter);
          p.add(crediter);
          container.add(p, BorderLayout.SOUTH);
  
          g = <span style='font-weight:bold;color:#7B0052;'>new</span> GroupeDeContributeurs(<span style='color:#2A00FF'>"g"</span>);
          g.ajouter(<span style='font-weight:bold;color:#7B0052;'>new</span> Contributeur(<span style='color:#2A00FF'>"g_a"</span>,100));
          g.ajouter(<span style='font-weight:bold;color:#7B0052;'>new</span> Contributeur(<span style='color:#2A00FF'>"g_b"</span>,50));
          g.ajouter(<span style='font-weight:bold;color:#7B0052;'>new</span> Contributeur(<span style='color:#2A00FF'>"g_c"</span>,150));
          GroupeDeContributeurs g1 = <span style='font-weight:bold;color:#7B0052;'>new</span> GroupeDeContributeurs(<span style='color:#2A00FF'>"g1"</span>);
          g1.ajouter(<span style='font-weight:bold;color:#7B0052;'>new</span> Contributeur(<span style='color:#2A00FF'>"g1_a1"</span>,70));
          g1.ajouter(<span style='font-weight:bold;color:#7B0052;'>new</span> Contributeur(<span style='color:#2A00FF'>"g1_b1"</span>,200));
          g.ajouter(g1);
  
          <span style='font-weight:bold;color:#7B0052;'>try</span><span style='font-weight:bold;color:#D3171B'>{</span>
              resultat.setText(Main.arbreXML(g)); <span style='color:#3F7F5F'>//actualiser();
  </span>        <span style='font-weight:bold;color:#D3171B'>}</span><span style='font-weight:bold;color:#7B0052;'>catch</span>(Exception e)<span style='font-weight:bold;color:#D3171B'>{</span><span style='font-weight:bold;color:#D3171B'>}</span>
  
          debiter.addActionListener(<span style='font-weight:bold;color:#7B0052;'>new</span> ActionListener()<span style='font-weight:bold;color:#D3171B'>{</span> 
                  <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> actionPerformed(ActionEvent evt)<span style='font-weight:bold;color:#D3171B'>{</span>                             
                      TransactionDebit t = <span style='font-weight:bold;color:#7B0052;'>new</span> TransactionDebit(g); 
                      <span style='font-weight:bold;color:#7B0052;'>try</span><span style='font-weight:bold;color:#D3171B'>{</span>                             
                          t.debit(Integer.parseInt(somme.getText())); 
                      <span style='font-weight:bold;color:#D3171B'>}</span><span style='font-weight:bold;color:#7B0052;'>catch</span>(Exception ex)<span style='font-weight:bold;color:#D3171B'>{</span>
                      <span style='font-weight:bold;color:#D3171B'>}</span> 
                      <span style='font-weight:bold;color:#7B0052;'>try</span><span style='font-weight:bold;color:#D3171B'>{</span>                             
                          resultat.setText(Main.arbreXML(g));  
                      <span style='font-weight:bold;color:#D3171B'>}</span><span style='font-weight:bold;color:#7B0052;'>catch</span>(Exception ex)<span style='font-weight:bold;color:#D3171B'>{</span>
                      <span style='font-weight:bold;color:#D3171B'>}</span> 
                  <span style='font-weight:bold;color:#D3171B'>}</span> 
              <span style='font-weight:bold;color:#D3171B'>}</span>
          );
              
              
  
          crediter.addActionListener(<span style='font-weight:bold;color:#7B0052;'>new</span> ActionListener()<span style='font-weight:bold;color:#D3171B'>{</span> 
                  <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>void</span> actionPerformed(ActionEvent evt)<span style='font-weight:bold;color:#D3171B'>{</span>                             
                      AbstractTransaction t = <span style='font-weight:bold;color:#7B0052;'>new</span> TransactionDebit(g);                            
                      t.credit(Integer.parseInt(somme.getText())); 
                      <span style='font-weight:bold;color:#7B0052;'>try</span><span style='font-weight:bold;color:#D3171B'>{</span>                             
                          resultat.setText(Main.arbreXML(g)); 
                      <span style='font-weight:bold;color:#D3171B'>}</span><span style='font-weight:bold;color:#7B0052;'>catch</span>(Exception e)<span style='font-weight:bold;color:#D3171B'>{</span><span style='font-weight:bold;color:#D3171B'>}</span> 
                  <span style='font-weight:bold;color:#D3171B'>}</span> 
              <span style='font-weight:bold;color:#D3171B'>}</span>);
  
              
          this.pack();
          this.setVisible(<span style='font-weight:bold;color:#7B0052;'>true</span>);
      <span style='font-weight:bold;color:#D3171B'>}</span>
  
      <span style='font-weight:bold;color:#7B0052;'>public</span> <span style='font-weight:bold;color:#7B0052;'>static</span> <span style='font-weight:bold;color:#7B0052;'>void</span> main() <span style='font-weight:bold;color:#D3171B'>{</span>
          <span style='font-weight:bold;color:#7B0052;'>new</span> IHM();    
      <span style='font-weight:bold;color:#D3171B'>}</span>    
  
  <span style='font-weight:bold;color:#D3171B'>}</span></pre>